{% extends 'base.html' %}

{% block content %}

{% load static %}

<link rel="stylesheet" type="text/css" href="{% static "css/question.css" %}">
<script type="text/javascript" src="{% static "js/script.js" %}"></script>

<div class = "row">
    <div class = "column left"></div>
    <div class="column right">    
        <h1>Here's what you need to work on:</h1>
        <div id ="learning_list"></div>
    </div>
</div>

<div class = "centered">
    <div>
      <p>
        <button type="button" class="btn btn-primary" onclick = "setWorkOnCookie();history.go(0)">Reset list</button>
      </p>
    </div>
</div>

<div>
    <p class="centered">
      <div class="alert alert-secondary" role="alert">
        <h5 style="text-align:center;">Close this window when you're done!</h5>
      </div>    
    </p>
</div>
 
<script>

function displayWorkOnCookie(){
    if (getCookie("work_on") == ''){
        document.getElementById('learning_list').innerHTML = 'Nothing here yet. Go test yourself!'
        return;
    }
    else{
        console.log('something in work on list')
        var arr = getCookie("work_on").split(',');
        arrLength = arr.length;
        let items = arr.slice(1,)
        ul = document.createElement('ul');

        document.getElementById('learning_list').appendChild(ul);
    
        items.forEach(function (item) {
            let li = document.createElement('li');
            ul.appendChild(li);
            li.innerHTML += item;
        });
    }
}

function setWorkOnCookie(){
    document.cookie = "work_on='';path=/;"
}

document.onload = displayWorkOnCookie()

</script>

{% endblock %}}